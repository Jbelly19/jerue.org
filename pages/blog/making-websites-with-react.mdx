export const intro = `The internet is a series of tubes where we all connect with each other. 
I will explain how anyone with JavaScript knowledge can create beautiful webites using React so that
you too can build things that connect everyone. This is for folks who are new to the web space, and interested in how to make cool things!`;

export const date = "4/4/2020";

export const hidden = true;

## Making Web Apps With React

<p>{intro}</p>

### How the Web Works: The Quick and Dirty

Websites are made up of 3 simple elements. HTML, CSS, and JavaScript. All of
these elements come from somewhere; typically a server hosed in the cloud. Your
computer does a domain name service (aka DNS) request for a website, say
_jerue.org_ and your DNS server responds with an IP address. DNS is typically
handled for you by your Internet Service Provider, . Your computer then does a
GET request to the IP address which returns an HTML file which then goes ahead
and displays the website. That is it. No rocket science, no magic.

You can make an entire website in HTML if you want, but things become
programatically more difficult as you add more and more things. The web platform
also utilizes CSS loaded from link tags to add style to your website, and
JavaScript from script tags to make your website interactive.

The HTML, CSS, and JS from these steps actually runs on _your_ computer.
However, websites aren't really interesting unless they are talking to
something. When web development first started evolving, the HTML, CSS, and JS
was largely generated on every page load using technologies such as PHP. This
meant some server on the internet was generating code that your computer would
then run every time you went to a new page. This is called server side
rendering.

This was slow, and websites were not very interactive. It wasn't possible to add
things to webpages or make them interactive with dynamic content. Imagine a
scenario where a webpage needed to get info from two servers, and one took a lot
longer to generate something than the other. Originally in web development, this
would lead to long load times and a frusterating expierience. However, change
did come.

That is where a process called AJAX, **A**synchronous **J**avascript **A**nd
**X**ML comes into play (HTML is a form of XML). JavaScript was already used
make pages interactive, and now one could use it to get information from a
server, and update a webpage without having to reload the whole webpage. With
AJAX, and the previous scenario, the webpage could do two XHRs (**X**HR **H**TTP
**R**equest) to a server and update parts of the webpage as a result of those
requests. This made the web fast and interactive.

As the years went by, JavaScript really came to embrace the
[asynchronous model](<https://en.wikipedia.org/wiki/Asynchrony_(computer_programming)>)
of writing code. With that, many "JavaScript Frameworks" and libraries came to
rise over the years to systematically harness the power of using JavaScript to
change html elements on the page. One could use tools like Backbone, Angular,
and MooTools allowed folks to create websites with mostly JavaScript.

### React

Many of these tools required you to have several different files and used
templateing to create create webpages. There were elements of things being
programatic and dynamic, but things were not at the stage of seeing a flow of
code across one set of files in the same language. React stepped in with the
idea of _why not write HTML in your JavaScript_. Crazy right! It was very
different that the "use JavaScript to fill in the blanks" of other frameworks.

Furthermore, was React even a framework? It barely handled state management, and
gave no implamentation of things like routing. Really, it just handled the V in
the popular MVC model. Why did people use it?
[It was fast, and it was simple](https://reactjs.org/blog/2013/06/05/why-react.html).
React allowed for just one div to be replaced by React components so you did't
have to write your entire website in it either.

I was first introduced to React in my college web programming class back in
2016, and quickly fell in love with it. I had used Angular in the past, but it
just never felt _real_ to me. Angular always gave me the feeling of: _"Well if
these two string are the same"_ the application will work. It never felt like I
was writing a program. React also leveraged functional programming models that I
was pretty fond of as I previosuly elected to use Scala for many of my
programming fundemenals classes.

These days, React is even easier and more magical. Want to make a hello world in
React?

```jsx
function Component() {
  return <div>Hello World</div>;
}
```

Want to make it do something when clicked?

```jsx
function Component() {
  const [count, setCount] = React.useState(0);
  return (
    <div onClick={() => setCount(count + 1)}>
      Hello World, the count is {count}
    </div>
  );
}
```

How about take in an input? We use something called `props` to serve as an input

```jsx
function Component(props) {
  const { name } = props;
  const [count, setCount] = React.useState(0);
  return (
    <div onClick={() => setCount(count + 1)}>
      Hello {name}, the count is {count}
    </div>
  );
}

...
// When called, take in name as a prop
<Component name="Ryan" />
```

React is easy and predicable. When the state changes, or the props change. The
component rerenders. Doing something like below does **not** cause it to
rerender:

```jsx
// This is bad, don't do this
function Component() {
  let count = 0;
  return (
    <div
      onClick={() => {
        count += 1;
      }}
    >
      Hello World, the count is {count}
    </div>
  );
}
```

You need to use React's built in state management functions in order to do
something.

### Gotta Go Fast!

JavaScript frameworks on their own aren't perfect. There's lots of ways someone
can build a webite. Most React developers learn through a toolchain called
[create-react-app](https://create-react-app.dev/). Create react app creates you
a website through a process called client rendering. There's a largely blank
HTML page where react is loaded, and then the application takes over the single
page. This is a fine way to learn react. Its easy and predictable.

However, in my work at Viasat, we have to deal with interesting networking
conditions. We primarily have customers that connect to things over high
latency. Which means it takes at least a half second in order for any http
request to go through. That means when the react app first loads, it's going to
at least take a half second to become interactive. Often it will take even
longer. Not great! Though, it is really easy to host as all you need to do is
give your consumers an html file and some JavaScript

Luckily though, some websites are just static. We can actually predict what we
want to be on the page to begin with. It doesn't even require any sort of fancy
machine learning, just something called **static site generation**. In static
site generation. You build a version of your site that will be loaded on the
initial render, then the JavaScript loads asynchronously and then undgeroes a
process called hydration where it it attaches to elements on the page. The
advantage to this is that it allows you to have a faster website since users
will see things as soon as it loads. This happens at build time, and it too
generates just html and JavaScript. However, what if your website needs to serve
a lot of dynamic content, and what if it is also on a high latency connection?

Another piece of technology is called **server side rendering** in this case,
the initial html files (and perhaps even others) are served from some sort of
server or even a stateless function. When the client does a GET for the initial
server the server can hit all the necissary APIs in a low latency cloud
enviornment and then serve prebuild HTML and some JS to the client. Future links
can also be prefetched and the server will return those without the user even
asking. Since there is still a hydration step, one may also have the full SPA
expierience. This is a fantastic way to handle things like dashboards that have
set queries.

This website does not have any dynamic content, and there are lots of tools that
you can use to create a react webapp, I use static site generation with NextJS
running in AWS!
